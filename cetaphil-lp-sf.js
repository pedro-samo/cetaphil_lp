window.addEventListener("DOMContentLoaded",()=>{var e=document.getElementById("contactForm");const m=document.getElementById("nome"),u=document.getElementById("sobrenome"),_=document.getElementById("dataNascimento"),y=document.getElementById("email"),p=document.getElementById("linkVideo"),v=document.getElementById("telefone"),E=document.getElementById("termosCheckbox1"),f=document.getElementById("termosCheckbox2"),b=document.getElementById("newsletterCheckbox"),w=document.querySelector(".x-cetaphil__container__cadastro-form__section.section2"),h=document.querySelector(".x-cetaphil__container__cadastro-form__section.section3");var t=document.querySelector(".x-cetaphil__container__cadastro-form__section__button-wrapper.enjoy button");const k=document.querySelector(".x-cetaphil__container__cadastro-form__section__button-wrapper.send button");IMask(v,{mask:"(00) 00000-0000"}),IMask(m,{mask:/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s]*$/}),IMask(document.getElementById("sobrenome"),{mask:/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s]*$/}),e.addEventListener("submit",async e=>{e.preventDefault();var e=m.value,t=u.value,o=_.value,a=y.value,r=p.value,d=v.value,c=E.checked,n=f.checked,s=b.checked;if(e&&t&&o&&a&&r&&d&&c&&n){c={nome:e,sobrenome:t,dataNascimento:o,email:a,linkVideo:r,telefone:"55"+d.replace(/\D/g,""),optinEmail:s?"true":"false"};let n=new FormData;Object.entries(c).forEach(e=>{var t=e[0],e=e[1];n.append(t,e)}),k.innerText="Enviando",k.disabled=!0;try{var l=await fetch("/integracao-cetaphil-sf",{method:"POST",body:n});if(!l.ok)throw new Error("Erro no envio dos dados");var i=await l.json();400===i.statusCode?Swal.fire("Ops!","E-mail já cadastrado!","error"):500===i.statusCode?Swal.fire("Ops!","Revise seus dados e tente novamente!","error"):(w.style.display="none",h.style.display="flex")}catch(e){console.error(e),Swal.fire("Ops!","Ocorreu um erro. Tente novamente mais tarde!","error")}finally{k.innerText="Enviar",k.disabled=!1}}}),t.addEventListener("click",()=>window.open("https://www.belezanaweb.com.br/cetaphil","_blank"))});