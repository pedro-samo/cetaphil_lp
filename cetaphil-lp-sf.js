window.addEventListener("DOMContentLoaded",()=>{var e=document.getElementById("contactForm");const l=document.getElementById("nome"),m=document.getElementById("sobrenome"),u=document.getElementById("dataNascimento"),_=document.getElementById("email"),y=document.getElementById("linkVideo"),p=document.getElementById("telefone"),h=document.getElementById("termosCheckbox1"),f=document.getElementById("termosCheckbox2"),E=document.getElementById("newsletterCheckbox"),v=document.querySelector(".x-cetaphil__container__cadastro-form__section.section2"),w=document.querySelector(".x-cetaphil__container__cadastro-form__section.section3");var t=document.querySelector(".x-cetaphil__container__cadastro-form__section__button-wrapper.enjoy button");const b=document.querySelector(".x-cetaphil__container__cadastro-form__section__button-wrapper.send button"),k=document.querySelector(".x-cetaphil__container__cadastro-form__section.section1 > h2");p&&IMask(p,{mask:"(00) 00000-0000"}),l&&IMask(l,{mask:/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s]*$/}),m&&IMask(m,{mask:/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s]*$/}),u&&IMask(u,{mask:"00/00/0000"}),e.addEventListener("submit",async e=>{e.preventDefault();var e=l.value,t=m.value,o=u.value,a=_.value,r=y.value,c=p.value,d=h.checked,n=f.checked,s=E.checked;if(e&&t&&o&&a&&r&&c&&d&&n){d={nome:e,sobrenome:t,dataNascimento:o,email:a,linkVideo:r,telefone:"55"+c.replace(/\D/g,""),optinEmail:s?"true":"false"};let n=new FormData;Object.entries(d).forEach(e=>{var t=e[0],e=e[1];n.append(t,e)}),b.innerText="Enviando",b.disabled=!0;try{var i=await fetch("/integracao-cetaphil-sf",{method:"POST",body:n});if(!i.ok)throw new Error("Erro no envio dos dados");400===(await i.json()).statusCode?Swal.fire("Ops!","E-mail já cadastrado!","error"):500===responsebirth.statusCode?Swal.fire("Ops!","Revise seus dados e tente novamente!","error"):(v.style.display="none",k.innerText="CADASTRO REALIZADO COM SUCESSO!",window.innerWidth<=768&&(k.style.textAlign="left",k.style.maxWidth="278px"),w.style.display="flex")}catch(e){console.error(e),Swal.fire("Ops!","Ocorreu um erro. Tente novamente mais tarde!","error")}finally{b.innerText="Enviar",b.disabled=!1}}}),t.addEventListener("click",()=>window.open("https://www.belezanaweb.com.br/cetaphil","_blank"))});