window.addEventListener("DOMContentLoaded",()=>{var e=document.getElementById("contactForm");const m=document.getElementById("nome"),u=document.getElementById("sobrenome"),_=document.getElementById("dataNascimento"),y=document.getElementById("email"),p=document.getElementById("linkVideo"),E=document.getElementById("telefone"),h=document.getElementById("termosCheckbox1"),v=document.getElementById("termosCheckbox2"),f=document.getElementById("newsletterCheckbox"),w=document.querySelector(".x-cetaphil__container__cadastro-form__section.section2"),b=document.querySelector(".x-cetaphil__container__cadastro-form__section.section3");var t=document.querySelector(".x-cetaphil__container__cadastro-form__section__button-wrapper.enjoy button");const k=document.querySelector(".x-cetaphil__container__cadastro-form__section__button-wrapper.send button"),g=document.querySelector(".x-cetaphil__container__cadastro-form__section.section1 > h2");E&&IMask(E,{mask:"(00) 00000-0000"}),m&&IMask(m,{mask:/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s]*$/}),u&&IMask(u,{mask:/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s]*$/}),_&&IMask(_,{mask:"00/00/0000"}),e.addEventListener("submit",async e=>{e.preventDefault();var e=m.value,t=u.value,n=_.value,a=y.value,o=p.value,r=E.value,d=h.checked,s=v.checked,c=f.checked;if(e&&t&&n&&a&&o&&r&&d&&s){o=JSON.stringify({deName:"tb_semana_da_moda_lp_trigger",deExternalKey:"B7F5B2B7-2398-4496-BCB3-6A9AFE07A732",primaryKeyName:"email",primaryKey:a,fields:{Name:e,LastName:t,EmailAddress:a,Phone:"55"+r.replace(/\D/g,""),Birthdate:n,OptinEmail:c?"true":"false",SubscriberKey:a}});k.innerText="Enviando...",k.disabled=!0,k.style.pointerEvents="none";try{var i=await fetch("/integracao-cetaphil-sf",{method:"POST",body:o});if(!i.ok)throw new Error("Erro no envio dos dados");var l=await i.json();400===l.statusCode?Swal.fire("Ops!","E-mail já cadastrado!","error"):500===l.statusCode?Swal.fire("Ops!","Revise seus dados e tente novamente!","error"):(w.style.display="none",g.innerText="CADASTRO REALIZADO COM SUCESSO!",window.innerWidth<=768&&(g.style.textAlign="left",g.style.maxWidth="278px"),b.style.display="flex",window.dataLayer.push({event:"form_sucess"}))}catch(e){console.error(e),Swal.fire("Ops!","Ocorreu um erro. Tente novamente mais tarde!","error")}finally{k.innerText="Enviar",k.disabled=!1,k.style.pointerEvents="auto"}}}),t.addEventListener("click",()=>window.open("https://www.belezanaweb.com.br/cetaphil","_blank"))});