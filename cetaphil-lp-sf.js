window.addEventListener("DOMContentLoaded",()=>{var e=document.getElementById("contactForm");const i=document.getElementById("nome"),u=document.getElementById("sobrenome"),p=document.getElementById("dataNascimento"),v=document.getElementById("email"),E=document.getElementById("linkVideo"),g=document.getElementById("telefone"),f=document.getElementById("termosCheckbox1"),y=document.getElementById("termosCheckbox2"),k=document.getElementById("newsletterCheckbox");IMask(g,{mask:"(00) 00000-0000"}),e.addEventListener("submit",async e=>{e.preventDefault();var e=i.value,o=u.value,t=p.value,a=v.value,n=E.value,d=g.value,r=f.checked,s=y.checked,l=k.checked;if(e&&o&&t&&a&&n&&d&&r&&s){r={nome:e,sobrenome:o,dataNascimento:t,email:a,linkVideo:n,Telefone:"55"+d.replace(/\D/g,""),optinEmail:l?"true":"false"},s=(console.log(r),new FormData);s.append("nome",e),s.append("sobrenome",o),s.append("dataNascimento",t),s.append("email",a),s.append("linkVideo",n),s.append("Telefone","55"+d.replace(/\D/g,"")),s.append("optinEmail",l?"true":"false"),console.log(s);try{var m=await fetch("/integracao-cetaphil-sf",{method:"POST",body:s});if(!m.ok)throw new Error("Erro no envio dos dados");var c=await m.json();400===c.statusCode?Swal.fire("Ops!","E-mail j√° cadastrado!","error"):500===c.statusCode?Swal.fire("Ops!","Revise seus dados e tente novamente!","error"):Swal.fire("Sucesso!","Cadastro realizado com sucesso!","success")}catch(e){console.error(e),console.log(s),Swal.fire("Ops!","Ocorreu um erro. Tente novamente mais tarde!","error")}}})});