window.addEventListener("DOMContentLoaded",()=>{var e=document.getElementById("contactForm");const i=document.getElementById("nome"),u=document.getElementById("sobrenome"),p=document.getElementById("dataNascimento"),y=document.getElementById("email"),f=document.getElementById("linkVideo"),E=document.getElementById("telefone"),g=document.getElementById("termosCheckbox1"),k=document.getElementById("termosCheckbox2"),v=document.getElementById("newsletterCheckbox"),I=document.querySelector(".x-cetaphil__container__cadastro-form__section.section2"),h=document.querySelector(".x-cetaphil__container__cadastro-form__section.section3");IMask(E,{mask:"(00) 00000-0000"}),IMask(i,{mask:/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s]*$/}),IMask(document.getElementById("sobrenome"),{mask:/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s]*$/}),e.addEventListener("submit",async e=>{e.preventDefault();var e=i.value,o=u.value,t=p.value,a=y.value,n=f.value,d=E.value,s=g.checked,r=k.checked,c=v.checked;if(e&&o&&t&&a&&n&&d&&s&&r){s={nome:e,sobrenome:o,dataNascimento:t,email:a,linkVideo:n,Telefone:"55"+d.replace(/\D/g,""),optinEmail:c?"true":"false"},r=(console.log(s),new FormData);r.append("nome",e),r.append("sobrenome",o),r.append("dataNascimento",t),r.append("email",a),r.append("linkVideo",n),r.append("Telefone","55"+d.replace(/\D/g,"")),r.append("optinEmail",c?"true":"false"),console.log(r);try{var l=await fetch("/integracao-cetaphil-sf",{method:"POST",body:r});if(!l.ok)throw new Error("Erro no envio dos dados");var m=await l.json();400===m.statusCode?Swal.fire("Ops!","E-mail já cadastrado!","error"):500===m.statusCode?Swal.fire("Ops!","Revise seus dados e tente novamente!","error"):Swal.fire("Sucesso!","Cadastro realizado com sucesso!","success"),l.ok&&(I.style.display="none",h.style.display="flex")}catch(e){console.error(e),console.log(r),Swal.fire("Ops!","Ocorreu um erro. Tente novamente mais tarde!","error")}}})});