window.addEventListener("DOMContentLoaded",()=>{var e=document.getElementById("contactForm");const i=document.getElementById("nome"),u=document.getElementById("sobrenome"),p=document.getElementById("dataNascimento"),E=document.getElementById("email"),g=document.getElementById("linkVideo"),v=document.getElementById("telefone"),f=document.getElementById("termosCheckbox1"),k=document.getElementById("termosCheckbox2"),y=document.getElementById("newsletterCheckbox");IMask(v,{mask:"(00) 00000-0000"}),IMask(i,{mask:/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s]*$/}),IMask(document.getElementById("sobrenome"),{mask:/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s]*$/}),e.addEventListener("submit",async e=>{e.preventDefault();var e=i.value,o=u.value,t=p.value,a=E.value,n=g.value,d=v.value,s=f.checked,m=k.checked,r=y.checked;if(e&&o&&t&&a&&n&&d&&s&&m){s={nome:e,sobrenome:o,dataNascimento:t,email:a,linkVideo:n,Telefone:"55"+d.replace(/\D/g,""),optinEmail:r?"true":"false"},m=(console.log(s),new FormData);m.append("nome",e),m.append("sobrenome",o),m.append("dataNascimento",t),m.append("email",a),m.append("linkVideo",n),m.append("Telefone","55"+d.replace(/\D/g,"")),m.append("optinEmail",r?"true":"false"),console.log(m);try{var l=await fetch("/integracao-cetaphil-sf",{method:"POST",body:m});if(!l.ok)throw new Error("Erro no envio dos dados");var c=await l.json();400===c.statusCode?Swal.fire("Ops!","E-mail já cadastrado!","error"):500===c.statusCode?Swal.fire("Ops!","Revise seus dados e tente novamente!","error"):Swal.fire("Sucesso!","Cadastro realizado com sucesso!","success")}catch(e){console.error(e),console.log(m),Swal.fire("Ops!","Ocorreu um erro. Tente novamente mais tarde!","error")}}})});